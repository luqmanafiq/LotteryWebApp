{% extends "base.html" %}

{% block content %}
   <div class="column is-5 is-offset-4">
        <h3 class="title">Login</h3>
        <div class="box">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <div class="notification is-danger">
                        {{ messages[0] }}
                    </div>
                {% endif %}
            {% endwith %}
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <form method="post" action="{{ url_for('users.login') }}">
        {{ form.hidden_tag() }}

        <div class="field">
            <label class="label">Email</label>
            <div class="control">
                {{ form.email(class="input") }}
                {% for error in form.email.errors %}
                    {{ error }}
                {% endfor %}
            </div>
        </div>

        <div class="field">
            <label class="label">Password</label>
            <div class="control">
                {{ form.password(class="input") }}
            </div>
        </div>

        <div class="field">
            <label class="label">Time-based PIN</label>
            <div class="control">
                {{ form.pin_key(class="input") }}
            </div>
        </div>
        <div class="field">
            <label class="label">Postcode</label>
            <div class="control">
                {{ form.postcode(class="input") }}
            </div>
        </div>

        <div class="field">
            <div>
                {{ form.reCaptcha }}
            </div>
        </div>

        <div class="field">
            <div class="control">
                {{ form.submit(class="button is-info is-centered") }}
            </div>
        </div>
    </form>
</div>
</div>
{% endblock %}